<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Full Carbon Assessment</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
<div class="container mt-5">
    <h2 class="text-center mb-4">üåç Full Carbon Footprint Assessment</h2>

    <form method="POST" class="p-4 bg-white rounded shadow">
        <div class="mb-3">
            <label for="members" class="form-label">üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Number of Household Members:</label>
            <input type="number" class="form-control" name="members" min="1" required>
        </div>

        <div class="accordion" id="assessmentSections">

            <!-- Household Section -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="householdHeading">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#householdSection">
                        üè† Household Consumption
                    </button>
                </h2>
                <div id="householdSection" class="accordion-collapse collapse show" data-bs-parent="#assessmentSections">
                    <div class="accordion-body">
                        <div class="mb-3">
                            <label>Electricity (kWh):</label>
                            <input type="number" step="0.01" class="form-control" name="electricity">
                        </div>
                        <div class="mb-3">
                            <label>LPG (kg):</label>
                            <input type="number" step="0.01" class="form-control" name="lpg">
                        </div>
                        <div class="mb-3">
                            <label>Water Consumption (m¬≥):</label>
                            <input type="number" step="0.01" class="form-control" name="water_consumption">
                        </div>
                        <div class="mb-3">
                            <label>Waste (kg/month):</label>
                            <input type="number" step="0.01" class="form-control" name="waste">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Transportation Section -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="transportationHeading">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#transportationSection">
                        üöó Transportation
                    </button>
                </h2>
                <div id="transportationSection" class="accordion-collapse collapse" data-bs-parent="#assessmentSections">
                    <div class="accordion-body">
                        {% for transport in ['gasoline', 'diesel', 'tricycle', 'jeep', 'van', 'bus'] %}
                        <div class="mb-3">
                            <label>{{ transport.replace('_', ' ').capitalize() }} (km):</label>
                            <input type="number" step="0.01" class="form-control" name="{{ transport }}">
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>

            <!-- Food Section -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="foodHeading">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#foodSection">
                        üçΩÔ∏è Food Consumption
                    </button>
                </h2>
                <div id="foodSection" class="accordion-collapse collapse" data-bs-parent="#assessmentSections">
                    <div class="accordion-body">
                        {% for food in ['fresh_vegetables', 'beef', 'poultry_meat', 'fish', 'pig_meat', 'eggs', 'rice', 'coffee', 'chocolate', 'cheese', 'milk_powder', 'butter'] %}
                        <div class="mb-3">
                            <label>{{ food.replace('_', ' ').capitalize() }} (kg/month):</label>
                            <input type="number" step="0.01" class="form-control" name="{{ food }}">
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>

        </div>

        <div class="text-center mt-4">
            <button type="submit" class="btn btn-success btn-lg">Submit Assessment</button>
        </div>
    </form>

    {% if total > 0 %}
    <div class="alert alert-info mt-4 text-center">
        <strong>‚úÖ Assessment Submitted!</strong><br>
        Your total carbon footprint is <strong>{{ total|round(2) }} kg CO‚ÇÇ</strong>
    </div>
    {% endif %}
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
