<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>üåø Full Carbon Assessment</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;600;800&display=swap" rel="stylesheet">

  <style>
    body {
      font-family: 'Nunito', sans-serif;
      background: linear-gradient(135deg, #d9f8c4, #f6f6eb);
      color: #2e4939;
    }

    h2 {
      font-weight: 800;
      color: #256d39;
    }

    .form-label {
      font-weight: 600;
    }

    .container {
      max-width: 900px;
    }

    form {
      background-color: #fffef5;
      border-radius: 20px;
      box-shadow: 0 4px 20px rgba(0, 80, 0, 0.1);
    }

    .accordion-button {
      background-color: #e4f8dd;
      font-weight: bold;
      color: #205d37;
    }

    .accordion-button:not(.collapsed) {
      background-color: #c3eec0;
      color: #144d2a;
    }

    .accordion-body {
      background-color: #fcfff7;
      padding: 20px;
    }

    .form-control {
      border-radius: 10px;
      border: 1px solid #c7e5c0;
      transition: box-shadow 0.2s;
    }

    .form-control:focus {
      box-shadow: 0 0 0 0.2rem rgba(46, 102, 55, 0.3);
      border-color: #3fa861;
    }

    .btn-success {
      background-color: #3fa861;
      border-color: #3fa861;
      font-size: 1.1rem;
      padding: 10px 30px;
      border-radius: 30px;
      transition: 0.3s;
    }

    .btn-success:hover {
      background-color: #33804f;
      border-color: #33804f;
    }

    .alert-info {
      background-color: #d9f8c4;
      border-color: #bde4aa;
      color: #295f3e;
      font-weight: 600;
    }
  </style>
</head>
<body>

<div class="container mt-5 mb-5">
  <h2 class="text-center mb-4">üåç Full Carbon Footprint Assessment</h2>

  <form method="POST" class="p-4">

    <div class="accordion" id="assessmentSections">

      <!-- Household Section -->
      <div class="accordion-item">
        <h2 class="accordion-header" id="householdHeading">
          <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#householdSection">
            üè† Household Consumption
          </button>
        </h2>
        <div id="householdSection" class="accordion-collapse collapse show" data-bs-parent="#assessmentSections">
          <div class="accordion-body">
            <div class="mb-3">
              <label for="members" class="form-label">Electricity (kWh):</label>
              <input type="number" step="0.1" class="form-control" name="electricity">
            </div>
            <div class="mb-3">
              <label for="members" class="form-label">LPG (kg):</label>
              <input type="number" step="0.1" class="form-control" name="lpg">
            </div>
            <div class="mb-3">
              <label for="members" class="form-label">Water Consumption (m¬≥):</label>
              <input type="number" step="0.1" class="form-control" name="water_consumption">
            </div>
            <div class="mb-3">
              <label for="members" class="form-label">Waste (kg/month):</label>
              <input type="number" step="0.1" class="form-control" name="waste">
            </div>
            <div class="mb-3">
                <label for="members" class="form-label">üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Number of Household Members:</label>
                <input type="number" class="form-control" name="members" min="1" required>
                </div>
          </div>
        </div>
      </div>

        <!-- üöó Private Vehicle Usage -->
    <div class="accordion-item">
    <h2 class="accordion-header" id="privateTransportHeader">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#privateTransportCollapse">
        üöó Private Vehicle Usage
        </button>
    </h2>
    <div id="privateTransportCollapse" class="accordion-collapse collapse" data-bs-parent="#assessmentSections">
        <div class="accordion-body">
        <div class="row g-3">
            <div class="col-md-6">
            <label for="gasoline" class="form-label">Gasoline (km):</label>
            <input type="number" step="0.1" class="form-control" name="gasoline" />
            </div>
            <div class="col-md-6">
            <label for="diesel" class="form-label">Diesel (km):</label>
            <input type="number" step="0.1" class="form-control" name="diesel" />
            </div>
        </div>
        </div>
    </div>
    </div>

    <!-- üöå Public Transportation Usage -->
    <div class="accordion-item">
    <h2 class="accordion-header" id="publicTransportHeader">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#publicTransportCollapse">
        üöå Public Transport Usage
        </button>
    </h2>
    <div id="publicTransportCollapse" class="accordion-collapse collapse" data-bs-parent="#assessmentSections">
        <div class="accordion-body">
        <div class="row g-3">
            <div class="col-md-6">
            <label for="tricycle" class="form-label">Tricycle (km):</label>
            <input type="number" step="0.1" class="form-control" name="tricycle" />
            </div>
            <div class="col-md-6">
            <label for="jeep" class="form-label">Jeep (km):</label>
            <input type="number" step="0.1" class="form-control" name="jeep" />
            </div>
            <div class="col-md-6">
            <label for="van" class="form-label">Van (km):</label>
            <input type="number" step="0.1" class="form-control" name="van" />
            </div>
            <div class="col-md-6">
            <label for="bus" class="form-label">Bus (km):</label>
            <input type="number" step="0.1" class="form-control" name="bus" />
            </div>
        </div>
        </div>
    </div>
    </div>


      <!-- Food Section -->
      <div class="accordion-item">
        <h2 class="accordion-header" id="foodHeading">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#foodSection">
            üçΩÔ∏è Food Consumption
          </button>
        </h2>
        <div id="foodSection" class="accordion-collapse collapse" data-bs-parent="#assessmentSections">
          <div class="accordion-body">
            {% for food in ['fresh_vegetables', 'beef', 'poultry_meat', 'fish', 'pig_meat', 'eggs', 'rice', 'coffee', 'chocolate', 'cheese', 'milk_powder', 'butter'] %}
            <div class="mb-3">
              <label for="members" class="form-label">{{ food.replace('_', ' ').capitalize() }} (kg/month):</label>
              <input type="number" step="0.1" class="form-control" name="{{ food }}">
            </div>
            {% endfor %}
          </div>
        </div>
      </div>

    </div>

    <div class="text-center mt-4">
      <button type="submit" class="btn btn-success btn-lg">Submit Assessment</button>
    </div>
  </form>

  {% if total > 0 %}
  <div class="alert alert-info mt-4 text-center">
    <strong>‚úÖ Assessment Submitted!</strong><br>
    Your total carbon footprint is <strong>{{ total|round(2) }} kg CO‚ÇÇ</strong>
  </div>
  {% endif %}
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
